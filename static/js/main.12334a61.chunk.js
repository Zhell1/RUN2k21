(this["webpackJsonpmon-app"]=this["webpackJsonpmon-app"]||[]).push([[0],{153:function(e,t,n){},250:function(e,t,n){},267:function(e,t){},270:function(e,t){},271:function(e,t){},291:function(e,t){},293:function(e,t){},304:function(e,t){},306:function(e,t){},333:function(e,t){},335:function(e,t){},340:function(e,t){},342:function(e,t){},354:function(e,t){},357:function(e,t){},584:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(15),s=n.n(c),o=(n(250),n(153),n(637)),i=n(635),u=n(636),l=n(629),p=n(107),d=n.n(p),b=n(10),j=n.n(b),f=n(42),h=n(16),x=n(626),O=n(632),g=n(638),m=n(625),v=n(624),y=n(623),w=n(51),k=n(4);function S(e){var t=a.a.useState(e.open),n=Object(f.a)(t,2),r=(n[0],n[1],Object(w.a)()),c=Object(y.a)(r.breakpoints.down("sm"));function s(){e.handleClose&&e.handleClose()}return Object(k.jsx)("div",{children:Object(k.jsxs)(g.a,{fullScreen:c,open:e.open,onClose:s,fullWidth:!0,"aria-labelledby":"responsive-dialog-title",keepMounted:!0,children:[Object(k.jsx)(v.a,{children:e.children}),Object(k.jsx)(m.a,{children:Object(k.jsx)(x.a,{onClick:s,color:"primary",autoFocus:!0,children:"Close"})})]})})}var C=n(628),T=n(627),_=n(633),R=n(634),P=n(640),E=n(631),I=n(639),q=n(630),B=n(113),D=n(112),L=n.n(D);function U(){return K.apply(this,arguments)}function K(){return(K=Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=170,e.next=3,L()("https://api.preev.pro/v1/tickers/12eLTxv1vyUeJtp5zqWbqpdWvfLdZ7dGf8",{method:"GET"}).then((function(e){return e.json()})).then((function(e){t=e.p.ppi.l}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=2e4;function F(e,t,n){return J.apply(this,arguments)}function J(){return(J=Object(h.a)(j.a.mark((function e(t,n,r){var a,c,s,o=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=o.length>3&&void 0!==o[3]?o[3]:200,c=o.length>4&&void 0!==o[4]?o[4]:A,(s=o.length>5&&void 0!==o[5]?o[5]:null)||(s=Date.now(),console.log("set timestamp at ",s)),setTimeout(Object(h.a)(j.a.mark((function e(){var o,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.load(t+"_o1");case 2:return o=e.sent,e.next=5,o.sync();case 5:(i=o.value)?(console.log("success with value: myRequest=",o," \n\n value = ",i),r(i,t)):Date.now()-s>c?(console.log("timedout at ",Date.now()),n()):F(t,n,r,a,c,s);case 7:case"end":return e.stop()}}),e)}))),a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=n(230),V=n.n(M);function H(){var e=document.getElementById("textToCopy");e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")}function N(){var e=Object(B.b)().enqueueSnackbar,t=function(t){return function(){e("Copied message!",{variant:t})}};return Object(k.jsx)(a.a.Fragment,{children:Object(k.jsx)("span",{onClick:H,children:Object(k.jsxs)(x.a,{variant:"outlined",size:"small",onClick:t("success"),children:[Object(k.jsx)(V.a,{size:"small",color:"primary"}),"\xa0 Copy origin"]})})})}var W=Object(T.a)({root:{maxWidth:300,textAlign:"left",margin:"20px"}});function G(e){return z.apply(this,arguments)}function z(){return(z=Object(h.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.load(t);case 2:return n=e.sent,e.next=5,n.sync();case 5:return e.next=7,te.sync();case 7:return console.log("load_contracts(): contract = ",n,"for",t),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){var t=W(),n=Object(r.useState)(!1),a=Object(f.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(null),i=Object(f.a)(o,2),u=i[0],p=i[1],b=Object(r.useState)(null),g=Object(f.a)(b,2),m=g[0],v=g[1],y=Object(r.useState)(),w=Object(f.a)(y,2),T=w[0],D=w[1];function L(){return(L=Object(h.a)(j.a.mark((function t(){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.oracleOrigin){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,G(e.oracleOrigin);case 4:return n=t.sent,console.log("my_oracleRequest = ",n),console.log("my_oracleRequest.oracle = ",n.oracle),p(n.location),r=n.oracle,console.log("my_oracle 1 = ",r),t.next=12,r.sync();case 12:console.log("my_oracle 2 = ",r),v(r.priceUSD);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}c||(s(!0),function(){L.apply(this,arguments)}());var K=Object(r.useState)(!1),A=Object(f.a)(K,2),J=A[0],M=A[1],V=Object(r.useState)(!1),H=Object(f.a)(V,2),z=H[0],Q=H[1],Y=function(){var t=Object(h.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Q(!0),te.purse.set_prestoWidget(e.widgetname,ee),ce("clicked");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function X(){ce("timedout")}function Z(e,t){return $.apply(this,arguments)}function $(){return($=Object(h.a)(j.a.mark((function e(t,n){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.load(n+"_o1");case 2:return r=e.sent,e.next=5,r.sync();case 5:D(r.value),a=r.value,ce("response"),console.log("callback_successOracle(): value=",t," & value2=",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){console.log("successCallback!! txid=",e),ce("paid"),Q(!1),F(e,X,Z)}var ne=Object(r.useState)("init"),re=Object(f.a)(ne,2),ae=re[0],ce=re[1];function se(){return(se=Object(h.a)(j.a.mark((function e(){var t,n,r,a,c,s,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,G(u);case 4:return t=e.sent,e.next=7,t.sync();case 7:return e.next=9,te.sync();case 9:return n=t.oracle,console.log("my_oracle 1 = ",n),e.next=13,n.sync();case 13:return r=n.priceUSD,e.next=16,U();case 16:return a=e.sent,c=parseInt(r/a*1e8,10),(s=new d.a.Transaction).update((function(){o=new t(c)})),e.next=22,s.export({pay:!0});case 22:e.sent,console.log("handleOpenPayPresto(): myRequest = ",o);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}"clicked"==ae&&(ce("ready"),function(){se.apply(this,arguments)}());var oe,ie=m?"$"+m:"loading";return Object(k.jsxs)(C.a,{className:t.root,children:[Object(k.jsxs)(S,{open:J,handleClose:function(){M(!1)},children:[Object(k.jsx)(l.a,{variant:"h5",children:e.title}),Object(k.jsx)("br",{}),e.description,Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),"Price ",ie,"/call ",Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),"init"==ae?Object(k.jsx)(x.a,{variant:"contained",color:"primary",onClick:Y,children:"TEST ORACLE"}):"paid"==ae?Object(k.jsxs)("div",{children:[Object(k.jsx)(I.a,{severity:"info",children:"Sent, waiting for Oracle now... "}),Object(k.jsx)(q.a,{})]}):"response"==ae?Object(k.jsx)("div",{children:Object(k.jsxs)(I.a,{severity:"success",children:["Oracle responded with value: ",T]})}):"timedout"==ae?Object(k.jsx)("div",{children:Object(k.jsxs)(I.a,{severity:"warning",children:["Request timed out after ",parseInt(20,10)," seconds, try again or contact admin."]})}):Object(k.jsx)(x.a,{variant:"contained",color:"primary",onClick:Y,children:"TEST ORACLE"}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),"Origin:",Object(k.jsx)("br",{}),Object(k.jsx)("a",{href:(oe=e.oracleOrigin,"https://run.network/explorer/?query="+oe+"&network=main"),target:"_blank",rel:"noopener noreferrer",children:e.oracleOrigin}),Object(k.jsx)("input",{type:"text",value:e.oracleOrigin,id:"textToCopy",style:{opacity:"0"}}),Object(k.jsx)("br",{}),Object(k.jsx)(B.a,{maxSnack:3,children:Object(k.jsx)(N,{})}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),"Example of use:",Object(k.jsx)("br",{}),Object(k.jsx)(P.a,{language:"javascript",style:E.a,wrapLongLines:"true",children:"class MysteriousEgg extends Jig\n{ \n  init(){ \n    this.randomValue = new RandomValue()\n  }\n  hatch(){\n    let x = this.randomValue.value\n    // rarity between 1-99 but we make it super rare to get one near 100\n    this.rarity = parseInt(power(100,x*x*x), 10)\n  }\n}\nMysteriousEgg.deps = { RandomValue, power }\n\n// TimestampRequest idea => make an egg that can only be hatched on full moon\n"}),Object(k.jsx)(O.a,{style:{padding:"0px 178px"},children:Object(k.jsx)("a",{href:"https://github.com/Zhell1/RUN2k21",style:{textDecoration:"none"},target:"_blank",rel:"noopener noreferrer",children:Object(k.jsx)(x.a,{variant:"contained",children:"See more on GitHub"})})}),Object(k.jsx)(S,{open:z,handleClose:function(){Q(!1)},children:Object(k.jsx)("div",{id:e.widgetname,class:e.widgetname})})]}),Object(k.jsx)(_.a,{onClick:function(){M(!0)},children:Object(k.jsxs)(R.a,{children:[Object(k.jsx)(l.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.title}),Object(k.jsx)(l.a,{variant:"body2",color:"textSecondary",component:"p",children:e.description}),Object(k.jsx)("br",{}),Object(k.jsx)(l.a,{variant:"body2",color:"textSecondary",component:"p",children:Object(k.jsx)("span",{style:{background:"#3f51b5",borderRadius:"4px",color:"white",padding:"3px"},children:ie})})]})})]})}var Y=n(32),X=n(33),Z=n(148),$=window.bsv1,ee=new(function(){function e(){Object(Y.a)(this,e)}return Object(X.a)(e,[{key:"set_prestoWidget",value:function(e,t){this.widgetname=e,this.successCallback=t}},{key:"pay",value:function(){var e=Object(h.a)(j.a.mark((function e(t,n){var r,a,c,s,o,i,u,l,p=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=new $.Transaction(t),a=[],c=0;c<r.inputs.length;c++)a.push({txid:r.inputs[c].prevTxId.toString("hex"),vout:r.inputs[c].outputIndex,satoshis:n[c].satoshis,script:n[c].script});for(s=$.Script(r.outputs[0].script).toASM().split(" "),o=[],i=2;i<s.length;i++)o.push(decodeURIComponent(s[i].replace(/\s+/g,"").replace(/[0-9a-f]{2}/g,"%$&")));for(u=[{data:o}],l=1;l<r.outputs.length;l++)u.push({satoshis:r.outputs[l].satoshis,to:$.Address.fromPublicKeyHash(new $.Script.fromBuffer(r.outputs[l]._scriptBuffer).getPublicKeyHash()).toString()});Z.a.create({key:"Kx2p4o7FYJYjEwufdYJLXjPtu2vaSpQ8mB7mjMJnaHnPSrGQ1nQk",description:"RUN2K21_Hackaton_RunCraft",outputs:u}).mount(Object(Z.b)("#"+this.widgetname,{style:["rounded","border-thick"]})).on("funded",function(){var e=Object(h.a)(j.a.mark((function e(t){var n,r,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=t.forge.inputs.pop(),a.forEach((function(e){return t.forge.addInput(e)})),t.forge.inputs.push(n),t.forge.build(),r=0;r<t.forge.inputs.length-1;r++)t.signTxIn(r,{keyPair:(new $.KeyPair).fromPrivKey((new $.PrivKey).fromString(te.owner.privkey))});return t.signTxIn(t.forge.inputs.length-1,{keyPair:t.keyPair}),c=t.getRawTx(),e.next=9,te.blockchain.broadcast(c);case 9:s=e.sent,console.log("TX sent",s),p.successCallback(s);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).on("error",(function(e){console.log("Error: ",e)}));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}()),te=new d.a({purse:ee,app:"RUN2K2021_Hackaton_RunCraft",trust:"*"});var ne=function(){return Object(k.jsx)("div",{className:"App",children:Object(k.jsxs)("header",{className:"App-header",style:{display:"block"},children:[Object(k.jsx)(i.a,{position:"static",style:{marginBottom:"2em"},children:Object(k.jsx)(u.a,{children:Object(k.jsx)(l.a,{variant:"h5",children:"Oracles"})})}),Object(k.jsxs)(o.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start",children:[Object(k.jsx)(Q,{title:"Random Value Oracle",description:"This Oracle gives you a random value as a float between 0 and 1, same as Math.random() but for jigs.",widgetname:"oracle1",oracleOrigin:"c968fc2674921d07c39051fa735e6a5ebbb69cc0b8b90232e76ae87e3d72101a_o2"}),Object(k.jsx)(Q,{title:"BSV/USD Price Oracle",description:"This Oracle gives you the current BSV price in USD",price:.01,widgetname:"oracle2",oracleOrigin:"c1f16893516de7824af5984aa343ce4df42d38b238b8b1dced2b1d3abb44361c_o2"}),Object(k.jsx)(Q,{title:"Timestamp Oracle",description:"This Oracle gives you the current timestamp in ms, same as Date.now() but for jigs.",price:.01,widgetname:"oracle3",oracleOrigin:"fcbf7ad48704593f46c1d357d0d6913f442fc244c58c2ef0fef78cb15a5dac7e_o2"})]})]})})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,642)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(ne,{})}),document.getElementById("root")),re()}},[[584,1,2]]]);
//# sourceMappingURL=main.12334a61.chunk.js.map